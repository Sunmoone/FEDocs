<section class="m-article">
	<h3>图片优化</h3>
	<div class="u-line"></div>
	<ol>
		<li>优化图像</li>
		<li>优化CSS Spirite</li>
		<li>不要在HTML中缩放图像</li>
		<li>favicon.ico要小而且可缓存</li>
	</ol>
	<dl>
		<dt>优化图像</dt>
		<dd>
			<p>设计人员完成对页面的设计之后,不要急于将它们上传到 web 服务器,这里还需要做几件事:</p>
			<p>你可以检查一下你的GIF图片中图像颜色的数量是否和调色板规格一致。 使用imagemagick中下面的命令行很容易检查:</p>
			<p><code>identify -verbose image.gif</code></p>
			<p>“我们要说的是:给 PNG 一个施展身手的机会吧!”</p>
			<p>在所有的PNG图片上运行pngcrush(或者其它PNG优化工具)。例如:</p>
			<p><code>pngcrush image.png -rem alla -reduce -brute result.png</code></p>
			<p>在所有的 JPEG 图片上运行 jpegtran。这个工具可以对图片中的出现的锯齿等做无损操作,同时它还可以用于优化和清除图片中的注释以及其它无用信息(如EXIF 信息):</p>
			<p><code>jpegtran -copy none -optimize -perfect src.jpg dest.jpg</code></p>
		</dd>
		<dt>优化CSS Spirite</dt>
		<dd>
			<p>在 Spirite 中水平排列你的图片,垂直排列会稍稍增加文件大小;</p>
			<p>Spirite 中把颜色较近的组合在一起可以降低颜色数,理想状况是低于 256 色以便适用 PNG8 格式;</p>
			<p>便于移动,不要在 Spirite 的图像中间留有较大空隙。这虽然不大会增加文件大小但对于用户代理来说它需要更少的内存来把图片解压为像素地图。</p>
			<p>100×100 的图片为 1 万像素,而 1000×1000 就是 100 万像素。</p>
		</dd>
		<dt>不要在HTML中缩放图像</dt>
		<dd>
			<p>不要为了在 HTML 中设置长宽而使用比实际需要大的图片。如果你需要:</p>
			<p><code>&lt;img width=”100′′ height=”100′′ src=”mycat.jpg” alt=”My Cat” /&gt;</code></p>
			<p>那么你的图片(mycat.jpg)就应该是 100×100 像素而不是把一个 500×500 像素的图片缩小使用。</p>
		</dd>
		<dt>favicon.ico要小而且可缓存</dt>
		<dd>
			<p>favicon.ico 是位于服务器根目录下的一个图片文件。它是必定存在的,因为即使你不关心它是否有用,浏览器也会对它发出请求,因此最好不要返回一个 404 Not Found 的响应。由于是在同一台服务器上,它每被请求一次 coockie 就会被发送一次。这个图片文件还会影响下载顺序,例如在 IE 中当你在 onload 中请求额外的文件时,favicon 会在这些额外内容被加载前下载。因此,为了减少 favicon.ico 带来的弊端,要做到:</p>
			<p>文 件尽量地小,最好小于 1K在适当的时候(也就是你不要打算再换 favicon.ico 的时候,因为更换新文件时不能对它进行重命名)为它设置 Expires 文件头。你可以很安全地把 Expires文件头设置为未来的几个月。你可以通过核对当前 favicon.ico 的上次编辑时间来作出判断。 Imagemagick可以帮你创建小巧的favicon。</p>
			<p></p>
		</dd>
	</dl>
</section>